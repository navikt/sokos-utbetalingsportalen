---
import { InternalHeader, Spacer } from '@navikt/ds-react';
import AppSwitcherHeaderSkeleton from './AppSwitcherHeaderSkeleton';
import AppSwitcherHeader from './AppSwitcherHeader';
import styles from './header.module.css';
import navLogo from '../../images/nav-icon-hvit.png'
import { Image } from 'astro:assets';

const userInfo = Astro.locals.userInfo;
---

<div class={styles["header"]}>
  <InternalHeader>
    <Image src={navLogo} alt="NAV logo" class={styles["header__navLogo"]} width="72" height="48" loading="eager" />
    <InternalHeader.Title href="/">Utbetalingsportalen</InternalHeader.Title>
    <Spacer />
    <AppSwitcherHeader
      server:defer
      adGroups={userInfo.groups}
      client:only="react"
    >
      <AppSwitcherHeaderSkeleton slot="fallback" />
    </AppSwitcherHeader>
    <InternalHeader.User name={userInfo.name} description={userInfo.NAVident} />
  </InternalHeader>
</div>
