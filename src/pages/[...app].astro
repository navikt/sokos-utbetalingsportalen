---
import { microfrontendConfigArray } from "src/microfrontend";
import MicrofrontendWrapper from "../components/microfrontend/MicrofrontendWrapper.astro";
import NotFound from "../pages/404.astro";

const currentPath = Astro.params.app;

const appConfig = microfrontendConfigArray.find(
  app => app.route === `/${currentPath}`
);

if (!appConfig) {
  Astro.response.status = 404;
}

---

{appConfig ? (
  <MicrofrontendWrapper appName={appConfig.app} />
) : (
  <NotFound />
)}
